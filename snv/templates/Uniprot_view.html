{% extends "base.html" %}

{% block title %}Uniprot ID: {{uniprot.acc_number}} {% endblock %}
{% block content %}

<div class = "well">
	
	<h3>Chain entries for the protein {{uniprot.acc_number}}:</h3>
		{% if uniprot.chains.all %}
			<table>
				<tr>
					<td><strong>PDB id</strong></td>
					<td><strong>PDB chain</strong></td>
					<td><strong>Sequence identity (%)</strong></td>
					<td><strong>Coverage (%)</strong></td>
					<td><strong>Sequence start</strong></td>
					<td><strong>Sequence end</strong></td>
				</tr>
			{% for item in uniprot.chains.all %}
				<tr>
					<td>{{item.pdb_id}}</td>
					<td>{{item.pdb_chain}}</td>
					<td>{{item.seq_identity}}</td>
					<td>{{item.coverage}}</td>
					<td>{{item.seq_start}}</td>
					<td>{{item.seq_end}}</td>
				</tr>
			{% endfor %}
			</table>
		{% else %}
			<p>The protein has no registered chain entries</p>
		{% endif %}

</div>


<div class = "well">
	<h3>Interacting partners of the protein {{uniprot.acc_number}}:</h3>
		<ul>
			{% for item in uniprot.interacting_partners %}
				<li> <a href="{% url 'uniprot-view' pk=item.acc_number %}">{{ item.acc_number  }} </a> </li>
			{% empty %}
				<p>The protein has no interacting partners</p>
			{% endfor %}

		</ul>

</div>

<div class = "well">
	<h3>Interaction entries for the protein {{uniprot.acc_number}}:</h3>
		{% if uniprot.interactions%}		
			<table>
				<tr>
					<td><strong>ID</strong></td>
					<td><strong>Partner 1</strong></td>
					<td><strong>Partner 2</strong></td>
					<td><strong>Type</strong></td>
				</tr>
				{% for item in uniprot.interactions %}
					<tr>
						<td>{{item.id}}</td>
						<td>{{item.chain_1.uniprot.acc_number}}</td>
						<td>{{item.chain_2.uniprot.acc_number}}</td>
						<td>{{item.type.type}}</td>
					</tr>
				{% endfor %}
			</table>
		{% else %}
			<p>The protein has no associated interaction entries</p>
		{% endif %}
</div>

<div class = "well">
    <h3>Sequence :</h3>
    <p>{{ uniprot.sequence }}</p>
</div>

<a href="#">Back to Results</a>
{% endblock %}
